<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏ó‡∏î‡∏™‡∏≠‡∏ö Moment.js tz Method</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .success { color: green; }
        .error { color: red; }
        .info { color: blue; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>‡∏ó‡∏î‡∏™‡∏≠‡∏ö Moment.js tz Method</h1>
    <div id="output"></div>

    <script src="assets/js/moment.min.js"></script>
    <script src="assets/js/moment-timezone.min.js"></script>
    
    <script>
        var output = document.getElementById('output');
        
        function log(message, type = 'info') {
            var className = type === 'success' ? 'success' : type === 'error' ? 'error' : 'info';
            output.innerHTML += '<p class="' + className + '">' + message + '</p>';
        }
        
        function testSection(title) {
            output.innerHTML += '<div class="test-section"><h3>' + title + '</h3>';
        }
        
        function endSection() {
            output.innerHTML += '</div>';
        }
        
        try {
            log('üîç ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö Moment.js tz Method...');
            
            // ‡∏ó‡∏î‡∏™‡∏≠‡∏ö moment() ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ
            testSection('1. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö moment() ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ');
            if (typeof moment === 'function') {
                var now = moment();
                log('‚úÖ moment() ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ: ' + now, 'success');
            } else {
                log('‚ùå moment() ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏Å‡∏≥‡∏´‡∏ô‡∏î', 'error');
            }
            endSection();
            
            // ‡∏ó‡∏î‡∏™‡∏≠‡∏ö moment.tz() ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ
            testSection('2. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö moment.tz() ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ');
            if (moment.tz && typeof moment.tz === 'function') {
                log('‚úÖ moment.tz() ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ', 'success');
            } else {
                log('‚ùå moment.tz() ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏Å‡∏≥‡∏´‡∏ô‡∏î', 'error');
            }
            endSection();
            
            // ‡∏ó‡∏î‡∏™‡∏≠‡∏ö moment(...).tz() ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ
            testSection('3. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö moment(...).tz() ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ');
            if (moment.fn && moment.fn.tz && typeof moment.fn.tz === 'function') {
                log('‚úÖ moment(...).tz() ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ', 'success');
                
                // ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
                try {
                    var testDate = moment('2024-01-01 12:00:00');
                    var bangkokDate = testDate.tz('Asia/Bangkok');
                    log('‚úÖ moment(...).tz() ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ: ' + bangkokDate, 'success');
                } catch (e) {
                    log('‚ùå moment(...).tz() ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô: ' + e.message, 'error');
                }
            } else {
                log('‚ùå moment(...).tz() ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏Å‡∏≥‡∏´‡∏ô‡∏î', 'error');
            }
            endSection();
            
            // ‡∏ó‡∏î‡∏™‡∏≠‡∏ö moment.tz.setDefault ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ
            testSection('4. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö moment.tz.setDefault() ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ');
            if (moment.tz && moment.tz.setDefault && typeof moment.tz.setDefault === 'function') {
                log('‚úÖ moment.tz.setDefault() ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ', 'success');
                
                try {
                    moment.tz.setDefault('Asia/Bangkok');
                    log('‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ timezone ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: Asia/Bangkok', 'success');
                } catch (e) {
                    log('‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ timezone ‡πÑ‡∏î‡πâ: ' + e.message, 'error');
                }
            } else {
                log('‚ùå moment.tz.setDefault() ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏Å‡∏≥‡∏´‡∏ô‡∏î', 'error');
            }
            endSection();
            
            // ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á
            testSection('5. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á');
            try {
                var currentDate = new Date();
                var momentDate = moment(currentDate);
                var bangkokTime = momentDate.tz('Asia/Bangkok');
                var formatted = bangkokTime.format('DD/MM/YYYY HH:mm');
                
                log('‚úÖ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: ' + currentDate, 'info');
                log('‚úÖ moment object: ' + momentDate, 'info');
                log('‚úÖ Bangkok time: ' + bangkokTime, 'info');
                log('‚úÖ Formatted: ' + formatted, 'success');
                
            } catch (e) {
                log('‚ùå ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô: ' + e.message, 'error');
            }
            endSection();
            
            log('üéâ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô!', 'success');
            
        } catch (error) {
            log('‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + error.message, 'error');
            console.error('Error:', error);
        }
    </script>
</body>
</html>
