<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏ó‡∏î‡∏™‡∏≠‡∏ö Sidebar ‡πÅ‡∏•‡∏∞ Modal</title>
    <link rel="stylesheet" href="./styles.css">
    <link rel="stylesheet" href="./modal-fix.css">
    <style>
        body {
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
        }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #0056b3;
        }
        .sidebar-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>‡∏ó‡∏î‡∏™‡∏≠‡∏ö Sidebar ‡πÅ‡∏•‡∏∞ Modal</h1>
    
    <div class="test-section">
        <h2>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Sidebar</h2>
        <div class="sidebar-info">
            <p><strong>‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏Ç‡∏ô‡∏≤‡∏î:</strong> <span id="screenSize">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö...</span></p>
            <p><strong>Sidebar ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•:</strong> <span id="sidebarStatus">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö...</span></p>
            <p><strong>Main Content Margin:</strong> <span id="mainContentMargin">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö...</span></p>
        </div>
    </div>

    <div class="test-section">
        <h2>‡∏ó‡∏î‡∏™‡∏≠‡∏ö Modal</h2>
        <button class="test-button" onclick="openModal('testModal')">‡πÄ‡∏õ‡∏¥‡∏î Modal ‡∏ó‡∏î‡∏™‡∏≠‡∏ö</button>
        <button class="test-button" onclick="closeModal('testModal')">‡∏õ‡∏¥‡∏î Modal</button>
    </div>

    <!-- Test Modal -->
    <div id="testModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Modal ‡∏ó‡∏î‡∏™‡∏≠‡∏ö</h3>
                <button class="modal-close" onclick="closeModal('testModal')">&times;</button>
            </div>
            <div class="modal-body">
                <p>‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ Modal ‡∏ó‡∏î‡∏™‡∏≠‡∏ö</p>
                <p>‡∏•‡∏≠‡∏á‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ô‡∏≠‡∏Å modal ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î ESC ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î</p>
                <p>Modal ‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏ï‡∏≤‡∏°‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏•‡πà‡∏≤‡∏á‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠</p>
            </div>
        </div>
    </div>

    <script>
        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏î‡∏™‡∏≠‡∏ö Modal
        function openModal(modalId) {
            console.log(`üîì ‡πÄ‡∏õ‡∏¥‡∏î modal: ${modalId}`);
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('active');
                updateModalStatus();
            }
        }

        function closeModal(modalId) {
            console.log(`üîí ‡∏õ‡∏¥‡∏î modal: ${modalId}`);
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('active');
                updateModalStatus();
            }
        }

        function updateModalStatus() {
            const activeModals = document.querySelectorAll('.modal.active');
            console.log(`Modal ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà: ${activeModals.length} ‡∏ï‡∏±‡∏ß`);
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Sidebar
        function checkSidebarStatus() {
            const sidebar = document.querySelector('.sidebar');
            const mainContent = document.querySelector('.main-content');
            const screenWidth = window.innerWidth;
            
            document.getElementById('screenSize').textContent = `${screenWidth}px`;
            
            if (sidebar) {
                const sidebarDisplay = window.getComputedStyle(sidebar).display;
                document.getElementById('sidebarStatus').textContent = sidebarDisplay;
            } else {
                document.getElementById('sidebarStatus').textContent = '‡πÑ‡∏°‡πà‡∏û‡∏ö sidebar';
            }
            
            if (mainContent) {
                const mainContentMargin = window.getComputedStyle(mainContent).marginLeft;
                document.getElementById('mainContentMargin').textContent = mainContentMargin;
            } else {
                document.getElementById('mainContentMargin').textContent = '‡πÑ‡∏°‡πà‡∏û‡∏ö main-content';
            }
        }

        // ‡πÄ‡∏û‡∏¥‡πà‡∏° event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ sidebar ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤
            checkSidebarStatus();
            
            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ sidebar ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
            window.addEventListener('resize', checkSidebarStatus);
            
            // ‡∏õ‡∏¥‡∏î modal ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ô‡∏≠‡∏Å content
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        closeModal(modal.id);
                    }
                });
            });

            // ‡∏õ‡∏¥‡∏î modal ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î ESC
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    document.querySelectorAll('.modal.active').forEach(modal => {
                        closeModal(modal.id);
                    });
                }
            });
        });
    </script>
</body>
</html>
