// Simple moment-timezone replacement for CSP compliance
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory() :
  typeof define === 'function' && define.amd ? define(factory) :
  factory()
}(this, (function () { 'use strict';

  // Extend moment with timezone support
  if (typeof window !== 'undefined' && window.moment) {
    var moment = window.moment;
    
    // Add timezone support
    moment.tz = function (input, timezone) {
      if (timezone === 'Asia/Bangkok') {
        // Convert to Bangkok time (UTC+7)
        var date = new Date(input);
        var utc = date.getTime() + (date.getTimezoneOffset() * 60000);
        var bangkokTime = new Date(utc + (7 * 3600000));
        return bangkokTime;
      }
      return new Date(input);
    };

    moment.tz.setDefault = function (timezone) {
      // Store default timezone
      moment._defaultTimezone = timezone;
    };

    // Add timezone formatting
    moment.fn.tz = function (timezone) {
      if (timezone === 'Asia/Bangkok') {
        return this.toLocaleString('th-TH', { timeZone: 'Asia/Bangkok' });
      }
      return this.toLocaleString();
    };

    console.log('✅ moment-timezone โหลดสำเร็จ (local version)');
  }

})));
