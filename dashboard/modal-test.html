<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏ó‡∏î‡∏™‡∏≠‡∏ö Modal</title>
    <link rel="stylesheet" href="./styles.css">
    <style>
        body {
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
        }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
    <h1>‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á Modal</h1>
    
    <div class="test-section">
        <h2>‡∏ó‡∏î‡∏™‡∏≠‡∏ö Modal ‡∏ï‡πà‡∏≤‡∏á‡πÜ</h2>
        <button class="test-button" onclick="openModal('testModal1')">‡πÄ‡∏õ‡∏¥‡∏î Modal 1</button>
        <button class="test-button" onclick="openModal('testModal2')">‡πÄ‡∏õ‡∏¥‡∏î Modal 2</button>
        <button class="test-button" onclick="openModal('testModal3')">‡πÄ‡∏õ‡∏¥‡∏î Modal 3</button>
        <button class="test-button" onclick="closeAllModals()">‡∏õ‡∏¥‡∏î Modal ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
    </div>

    <div class="test-section">
        <h2>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Modal</h2>
        <div id="modalStatus">‡πÑ‡∏°‡πà‡∏°‡∏µ modal ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà</div>
    </div>

    <!-- Test Modal 1 -->
    <div id="testModal1" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Modal ‡∏ó‡∏î‡∏™‡∏≠‡∏ö 1</h3>
                <button class="modal-close" onclick="closeModal('testModal1')">&times;</button>
            </div>
            <div class="modal-body">
                <p>‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ Modal ‡∏ó‡∏î‡∏™‡∏≠‡∏ö 1</p>
                <p>‡∏•‡∏≠‡∏á‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ô‡∏≠‡∏Å modal ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î ESC ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î</p>
            </div>
        </div>
    </div>

    <!-- Test Modal 2 -->
    <div id="testModal2" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Modal ‡∏ó‡∏î‡∏™‡∏≠‡∏ö 2</h3>
                <button class="modal-close" onclick="closeModal('testModal2')">&times;</button>
            </div>
            <div class="modal-body">
                <p>‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ Modal ‡∏ó‡∏î‡∏™‡∏≠‡∏ö 2</p>
                <p>‡∏•‡∏≠‡∏á‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ô‡∏≠‡∏Å modal ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î ESC ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î</p>
            </div>
        </div>
    </div>

    <!-- Test Modal 3 -->
    <div id="testModal3" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Modal ‡∏ó‡∏î‡∏™‡∏≠‡∏ö 3</h3>
                <button class="modal-close" onclick="closeModal('testModal3')">&times;</button>
            </div>
            <div class="modal-body">
                <p>‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ Modal ‡∏ó‡∏î‡∏™‡∏≠‡∏ö 3</p>
                <p>‡∏•‡∏≠‡∏á‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ô‡∏≠‡∏Å modal ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î ESC ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î</p>
            </div>
        </div>
    </div>

    <script>
        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏î‡∏™‡∏≠‡∏ö Modal
        function openModal(modalId) {
            console.log(`üîì ‡πÄ‡∏õ‡∏¥‡∏î modal: ${modalId}`);
            const modal = document.getElementById(modalId);
            if (modal) {
                // ‡∏õ‡∏¥‡∏î modal ‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏Å‡πà‡∏≠‡∏ô
                closeAllModals();
                
                modal.classList.add('active');
                modal.style.display = 'flex';
                modal.style.opacity = '1';
                modal.style.visibility = 'visible';
                modal.style.pointerEvents = 'auto';
                
                updateModalStatus();
            }
        }

        function closeModal(modalId) {
            console.log(`üîí ‡∏õ‡∏¥‡∏î modal: ${modalId}`);
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('active');
                modal.style.display = 'none';
                modal.style.opacity = '0';
                modal.style.visibility = 'hidden';
                modal.style.pointerEvents = 'none';
                
                updateModalStatus();
            }
        }

        function closeAllModals() {
            console.log('üîí ‡∏õ‡∏¥‡∏î modal ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î');
            const allModals = document.querySelectorAll('.modal');
            allModals.forEach(modal => {
                modal.classList.remove('active');
                modal.style.display = 'none';
                modal.style.opacity = '0';
                modal.style.visibility = 'hidden';
                modal.style.pointerEvents = 'none';
            });
            updateModalStatus();
        }

        function updateModalStatus() {
            const statusDiv = document.getElementById('modalStatus');
            const activeModals = document.querySelectorAll('.modal.active');
            if (activeModals.length > 0) {
                const modalNames = Array.from(activeModals).map(m => m.id).join(', ');
                statusDiv.textContent = `Modal ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà: ${modalNames}`;
            } else {
                statusDiv.textContent = '‡πÑ‡∏°‡πà‡∏°‡∏µ modal ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà';
            }
        }

        // ‡πÄ‡∏û‡∏¥‡πà‡∏° event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // ‡∏õ‡∏¥‡∏î modal ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
            closeAllModals();
            
            // ‡∏õ‡∏¥‡∏î modal ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ô‡∏≠‡∏Å content
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        closeModal(modal.id);
                    }
                });
            });

            // ‡∏õ‡∏¥‡∏î modal ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î ESC
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeAllModals();
                }
            });
        });
    </script>
</body>
</html>
