const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CkUAMYdr.js","assets/index-qXZDfFvN.css"])))=>i.map(i=>d[i]);
import{e as oe,u as de,r as f,j as s,a1 as ue,b as me,a3 as he,B as D,x as O,C as ge,_ as S,s as b,h as R,i as xe}from"./index-CkUAMYdr.js";import{D as pe,a as fe,b as je,c as ye,d as ve}from"./dialog-DPTiGGGx.js";import{I as U}from"./input-DKGNKTR-.js";import{L as m}from"./label-BJe2V66q.js";import{T as De}from"./textarea-qDOkATwC.js";import{S as $,a as V,b as k,c as H,d as N}from"./select-DPXkz_pv.js";import{C as z}from"./checkbox-BTZseQt4.js";import{P as be,a as Ne,b as Ae,C as we}from"./popover-BBd8w3DV.js";import{L as Te}from"./loader-circle-ZAWodsRx.js";import{i as E,f as J}from"./format-DqSJChTQ.js";import"./index-CGJYNE2k.js";import"./index-BuCVsLOD.js";import"./chevron-down-CyNZVHST.js";import"./check-Eaa5JV2K.js";import"./th-Mr45T5HM.js";import"./endOfMonth-B7YxEMnH.js";import"./chevron-right-_VcdZaD6.js";const Ce="Asia/Bangkok",G=[{value:"weekly",label:"‡∏£‡∏≤‡∏¢‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå",description:"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏¢‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏£‡∏≠‡∏ö‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡∏∏‡∏Å‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå",icon:"üìÖ"},{value:"monthly",label:"‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",description:"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏¢‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏£‡∏≠‡∏ö‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡∏∏‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",icon:"üìÜ"},{value:"quarterly",label:"‡∏£‡∏≤‡∏¢‡πÑ‡∏ï‡∏£‡∏°‡∏≤‡∏™",description:"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏¢‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏£‡∏≠‡∏ö‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡∏∏‡∏Å 3 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",icon:"üìà"}],j=r=>(r==null?void 0:r.lineUserId)||(r==null?void 0:r.id)||(r==null?void 0:r.userId)||null,Ie=r=>{if(!r)return{date:null,time:"23:59"};let d=r instanceof Date?r:new Date(r);return typeof r=="object"&&(r!=null&&r.seconds)&&(d=new Date(r.seconds*1e3)),E(d)?{date:d,time:J(d,"HH:mm")}:{date:null,time:"23:59"}},_e=(r,d)=>{if(!r||!E(r))return null;const h=J(r,"yyyy-MM-dd"),w=d&&d.trim()?d:"23:59";return`${h}T${w}:00`},W=r=>!r||!E(r)?"‚Äî":r.toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"}),Z={title:"",description:"",recurrence:"weekly",initialDueDate:null,initialDueTime:"23:59",priority:"medium",requireAttachment:!1,tags:"",assignedUsers:[],reviewer:""},Le=r=>r?Array.isArray(r.assigneeLineUserIds)?r.assigneeLineUserIds.filter(Boolean):Array.isArray(r.assignedUsers)?r.assignedUsers.map(j).filter(Boolean):Array.isArray(r.assignees)?r.assignees.map(j).filter(Boolean):[]:[];function Ze({onTaskCreated:r,onTaskUpdated:d}){const{groupId:h,canModify:w,userId:K,currentUser:p}=oe(),{isRecurringTaskOpen:T,closeRecurringTask:C,selectedRecurring:c}=de(),[F,q]=f.useState(!1),[I,M]=f.useState(!1),[y,Q]=f.useState([]),[t,o]=f.useState(Z),g=!!(c!=null&&c.id),v=w(),l=!v||I,_=()=>{o({...Z})},X=e=>{var a;if(!e){_();return}const{date:i,time:n}=Ie(e.initialDueTime||e.firstDueDate||e.startDate||e.nextRun||e.dueDate);o({title:e.title||e.name||"",description:e.description||"",recurrence:e.recurrence||e.frequency||"weekly",initialDueDate:i,initialDueTime:n||"23:59",priority:e.priority||"medium",requireAttachment:!!(e.requireAttachment??e.requiresAttachment??!1),tags:Array.isArray(e.tags)?e.tags.join(", "):typeof e.tags=="string"?e.tags:"",assignedUsers:Le(e),reviewer:e.reviewerLineUserId||((a=e.reviewer)==null?void 0:a.lineUserId)||e.reviewer||""})},Y=async()=>{if(h)try{const{getGroupMembers:e}=await S(async()=>{const{getGroupMembers:u}=await import("./index-CkUAMYdr.js").then(x=>x.aC);return{getGroupMembers:u}},__vite__mapDeps([0,1])),i=await e(h),n=(i==null?void 0:i.members)||(i==null?void 0:i.data)||(Array.isArray(i)?i:[]),a=Array.isArray(n)?n.filter(u=>j(u)):[];Q(a),console.log("‚úÖ Loaded members:",a.length)}catch(e){console.error("‚ùå Failed to load members:",e),b("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÑ‡∏î‡πâ")}},ee=async e=>{M(!0);try{let i=e;if(e!=null&&e.id&&h)try{const{getRecurringTask:n}=await S(async()=>{const{getRecurringTask:u}=await import("./index-CkUAMYdr.js").then(x=>x.aC);return{getRecurringTask:u}},__vite__mapDeps([0,1])),a=await n(h,e.id);i=(a==null?void 0:a.data)||a||e}catch(n){console.warn("‚ö†Ô∏è Failed to fetch recurring detail:",n)}X(i)}finally{M(!1)}};f.useEffect(()=>{T&&(Y(),c!=null&&c.id?ee(c):_())},[T,c==null?void 0:c.id,h]);const se=e=>{e&&o(i=>{const n=i.assignedUsers.includes(e);return{...i,assignedUsers:n?i.assignedUsers.filter(a=>a!==e):[...i.assignedUsers,e]}})},ie=()=>{v&&o(e=>({...e,assignedUsers:y.map(i=>j(i)).filter(Boolean)}))},re=()=>{o(e=>({...e,assignedUsers:[]}))},te=f.useMemo(()=>{const e=G.find(x=>x.value===t.recurrence),i=e?e.label:"‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å",n=W(t.initialDueDate),a=t.initialDueTime||"‚Äî",u=a!=="‚Äî"?` ${a}`:"";return`‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡πà‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å: ${n}${u} ‚Ä¢ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏¢‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡πà‡∏á ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡∏£‡∏≠‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡πÅ‡∏ö‡∏ö${i}‡∏ó‡∏±‡∏ô‡∏ó‡∏µ`},[t.recurrence,t.initialDueDate,t.initialDueTime]),ae=async e=>{var a;if(e.preventDefault(),!v){b("‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏™‡∏£‡πâ‡∏≤‡∏á/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥");return}if(I)return;const i=t.title.trim();if(!i){b("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏á‡∏≤‡∏ô");return}if(t.assignedUsers.length===0){b("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏Ñ‡∏ô");return}const n=_e(t.initialDueDate,t.initialDueTime);if(!n){b("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å");return}q(!0);try{const{createRecurringTask:u,updateRecurringTask:x}=await S(async()=>{const{createRecurringTask:L,updateRecurringTask:le}=await import("./index-CkUAMYdr.js").then(ce=>ce.aC);return{createRecurringTask:L,updateRecurringTask:le}},__vite__mapDeps([0,1])),P=K||(p==null?void 0:p.lineUserId)||(p==null?void 0:p.id)||"unknown",A={title:i,description:((a=t.description)==null?void 0:a.trim())||void 0,recurrence:t.recurrence,priority:t.priority||"medium",requireAttachment:!!t.requireAttachment,initialDueTime:n,timezone:Ce,assigneeLineUserIds:t.assignedUsers,createdBy:P,createdByLineUserId:P};t.reviewer&&(A.reviewerLineUserId=t.reviewer);const B=(t.tags||"").split(",").map(L=>L.trim()).filter(Boolean);B.length>0&&(A.tags=B),g&&(c!=null&&c.id)?(await x(h,c.id,A),R("‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à"),d==null||d()):(await u(h,A),R("‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à"),r==null||r()),_(),C()}catch(u){console.error("‚ùå Failed to save recurring task:",u),xe(g?"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÑ‡∏î‡πâ":"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÑ‡∏î‡πâ",u)}finally{q(!1)}},ne=e=>{e||C()};return s.jsx(pe,{open:T,onOpenChange:ne,children:s.jsxs(fe,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(je,{children:[s.jsx(ye,{children:g?"‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥":"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÉ‡∏´‡∏°‡πà"}),s.jsx(ve,{children:g?"‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÅ‡∏•‡πâ‡∏ß‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠":"‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ã‡πâ‡∏≥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡πà‡∏á‡πÉ‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ï‡πà‡∏≠‡πÑ‡∏õ"})]}),!v&&s.jsxs(ue,{variant:"warning",className:"bg-amber-50 border-amber-200",children:[s.jsx(me,{className:"h-4 w-4"}),s.jsxs(he,{className:"text-amber-800",children:["‚ö†Ô∏è ",s.jsx("strong",{children:"‡πÇ‡∏´‡∏°‡∏î‡∏î‡∏π‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß"})," - ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå",g?"‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç":"‡∏™‡∏£‡πâ‡∏≤‡∏á","‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥",s.jsx("br",{}),"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏ú‡πà‡∏≤‡∏ô LINE ‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß (‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ userId) ‡πÄ‡∏û‡∏∑‡πà‡∏≠",g?"‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç":"‡∏™‡∏£‡πâ‡∏≤‡∏á","‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥"]})]}),I&&v&&s.jsxs("div",{className:"flex items-center gap-2 rounded border border-dashed border-blue-200 bg-blue-50 px-3 py-2 text-sm text-blue-700",children:[s.jsx(Te,{className:"h-4 w-4 animate-spin"}),"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥..."]}),s.jsxs("form",{onSubmit:ae,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{htmlFor:"title",children:"‡∏ä‡∏∑‡πà‡∏≠‡∏á‡∏≤‡∏ô *"}),s.jsx(U,{id:"title",value:t.title,onChange:e=>o(i=>({...i,title:e.target.value})),placeholder:"‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡∏á‡∏≤‡∏ô",required:!0,disabled:l})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{htmlFor:"description",children:"‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î"}),s.jsx(De,{id:"description",value:t.description,onChange:e=>o(i=>({...i,description:e.target.value})),placeholder:"‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)",rows:3,disabled:l})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{children:"‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö *"}),s.jsxs("div",{className:"rounded-lg border p-4 space-y-3",children:[y.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°"}):s.jsx("div",{className:"max-h-48 space-y-2 overflow-y-auto pr-1",children:y.map(e=>{const i=j(e);return i?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(z,{id:`assignee-${i}`,checked:t.assignedUsers.includes(i),onCheckedChange:()=>se(i),disabled:l}),s.jsx("label",{htmlFor:`assignee-${i}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:e.displayName||e.realName||e.name||i})]},i):null})}),s.jsxs("div",{className:"flex gap-2 border-t pt-2",children:[s.jsx(D,{type:"button",variant:"outline",size:"sm",onClick:ie,disabled:l||y.length===0,children:"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"}),s.jsx(D,{type:"button",variant:"outline",size:"sm",onClick:re,disabled:l||t.assignedUsers.length===0,children:"‡∏•‡πâ‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{children:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç"}),s.jsxs($,{value:t.priority,onValueChange:e=>o(i=>({...i,priority:e})),disabled:l,children:[s.jsx(V,{children:s.jsx(k,{})}),s.jsxs(H,{children:[s.jsx(N,{value:"low",children:"‡∏ï‡πà‡∏≥"}),s.jsx(N,{value:"medium",children:"‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á"}),s.jsx(N,{value:"high",children:"‡∏™‡∏π‡∏á"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{children:"‡∏ú‡∏π‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏á‡∏≤‡∏ô"}),s.jsxs($,{value:t.reviewer||"__none",onValueChange:e=>o(i=>({...i,reviewer:e==="__none"?"":e})),disabled:l,children:[s.jsx(V,{children:s.jsx(k,{placeholder:"(‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏)"})}),s.jsxs(H,{children:[s.jsx(N,{value:"__none",children:"(‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏)"}),y.map(e=>{const i=j(e);return i?s.jsx(N,{value:i,children:e.displayName||e.realName||e.name||i},i):null})]})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{htmlFor:"tags",children:"‡πÅ‡∏ó‡πá‡∏Å (‡∏Ñ‡∏±‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏à‡∏∏‡∏•‡∏†‡∏≤‡∏Ñ)"}),s.jsx(U,{id:"tags",value:t.tags,onChange:e=>o(i=>({...i,tags:e.target.value})),placeholder:"‡πÄ‡∏ä‡πà‡∏ô: ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô, ‡∏õ‡∏£‡∏∞‡∏à‡∏≥",disabled:l})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[s.jsx(z,{id:"requireAttachment",checked:t.requireAttachment,onCheckedChange:e=>o(i=>({...i,requireAttachment:!!e})),disabled:l}),s.jsx(m,{htmlFor:"requireAttachment",className:"text-sm font-medium leading-none",children:"‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏ô‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(m,{className:"text-lg font-medium text-gray-800",children:"‡∏£‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô"}),s.jsx("div",{className:"grid gap-3",children:G.map(e=>{const i=t.recurrence===e.value;return s.jsx("button",{type:"button",onClick:()=>o(n=>({...n,recurrence:e.value})),className:O("w-full rounded-lg border p-3 text-left transition",i?"border-blue-500 bg-blue-50":"border-border hover:bg-muted/60",l&&"cursor-not-allowed opacity-60"),disabled:l,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-xl",children:e.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:e.label}),s.jsx("div",{className:"text-sm text-muted-foreground",children:e.description})]})]})},e.value)})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{children:"‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å *"}),s.jsxs(be,{modal:!1,children:[s.jsx(Ne,{asChild:!0,children:s.jsxs(D,{type:"button",variant:"outline",className:O("w-full justify-start text-left font-normal",!t.initialDueDate&&"text-muted-foreground"),disabled:l,children:[s.jsx(ge,{className:"mr-2 h-4 w-4"}),t.initialDueDate?W(t.initialDueDate):"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"]})}),s.jsx(Ae,{className:"w-auto p-0",children:s.jsx(we,{mode:"single",selected:t.initialDueDate,onSelect:e=>o(i=>({...i,initialDueDate:e})),initialFocus:!0,disabled:l?()=>!0:void 0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{htmlFor:"initialDueTime",children:"‡πÄ‡∏ß‡∏•‡∏≤‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î"}),s.jsx(U,{id:"initialDueTime",type:"time",value:t.initialDueTime,onChange:e=>o(i=>({...i,initialDueTime:e.target.value})),disabled:l})]})]}),s.jsx("div",{className:"rounded-lg bg-blue-50 p-4 text-sm text-blue-700",children:te}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsx(D,{type:"button",variant:"outline",onClick:C,children:"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å"}),s.jsx(D,{type:"submit",disabled:F||l,children:F?"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...":g?"‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å":"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥"})]})]})]})})}export{Ze as default};
