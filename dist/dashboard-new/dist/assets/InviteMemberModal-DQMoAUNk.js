const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CkUAMYdr.js","assets/index-qXZDfFvN.css"])))=>i.map(i=>d[i]);
import{e as z,u as G,r,j as e,B as n,s as c,_ as L,h as g,i as T}from"./index-CkUAMYdr.js";import{D as H,a as W,b as $,c as q,d as J}from"./dialog-DPTiGGGx.js";import{I}from"./input-DKGNKTR-.js";import{L as v}from"./label-BJe2V66q.js";import{T as K}from"./textarea-qDOkATwC.js";import{T as Q,a as X,b as _,c as E}from"./tabs-BgLNq8av.js";import{U as f}from"./user-plus-B5JBPgEr.js";import{L as Y}from"./link-2-B_i8feji.js";import{M as D}from"./mail-D2mJo5ff.js";import{C as Z}from"./check-Eaa5JV2K.js";import{C as ee}from"./copy-jeuz8J7W.js";import{L as M}from"./loader-circle-ZAWodsRx.js";import"./index-CGJYNE2k.js";function ue({onInvited:b}){const{groupId:N,canModify:d}=z(),{isInviteMemberOpen:S,closeInviteMember:F}=G(),[t,o]=r.useState(!1),[O,P]=r.useState("link"),[m,w]=r.useState(""),[R,x]=r.useState(!1),[i,h]=r.useState(""),[y,u]=r.useState(""),C=async()=>{if(!d()){c("‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏ä‡∏¥‡∏ç‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å");return}o(!0);try{const{createInviteLink:s}=await L(async()=>{const{createInviteLink:j}=await import("./index-CkUAMYdr.js").then(B=>B.aC);return{createInviteLink:j}},__vite__mapDeps([0,1])),a=await s(N),p=a.link||a.inviteUrl||a.url||a;w(p),g("‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏ä‡∏¥‡∏ç‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à"),console.log("‚úÖ Generated invite link")}catch(s){console.error("‚ùå Failed to generate invite link:",s),T("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏ä‡∏¥‡∏ç‡πÑ‡∏î‡πâ",s)}finally{o(!1)}},A=()=>{if(!m){c("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏ä‡∏¥‡∏ç‡∏Å‡πà‡∏≠‡∏ô");return}navigator.clipboard.writeText(m),x(!0),g("‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÅ‡∏•‡πâ‡∏ß"),setTimeout(()=>x(!1),2e3)},U=async()=>{if(!d()){c("‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏ä‡∏¥‡∏ç‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å");return}if(!(i!=null&&i.trim())){c("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏•");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)){c("‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");return}o(!0);try{const{sendInviteEmail:a}=await L(async()=>{const{sendInviteEmail:p}=await import("./index-CkUAMYdr.js").then(j=>j.aC);return{sendInviteEmail:p}},__vite__mapDeps([0,1]));await a(N,i,y),g("‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏¥‡∏ç‡∏ó‡∏≤‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à"),console.log("‚úÖ Sent invite email to:",i),h(""),u(""),b&&b()}catch(a){console.error("‚ùå Failed to send invite:",a),T("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏¥‡∏ç‡πÑ‡∏î‡πâ",a)}finally{o(!1)}},k=()=>{w(""),h(""),u(""),x(!1),F()},l=d(),V=s=>{s||k()};return e.jsx(H,{open:S,onOpenChange:V,children:e.jsxs(W,{className:"max-w-md",children:[e.jsxs($,{children:[e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-5 h-5"}),"‡πÄ‡∏ä‡∏¥‡∏ç‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏´‡∏°‡πà"]}),e.jsx(J,{children:"‡πÄ‡∏ä‡∏¥‡∏ç‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì"})]}),!l&&e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-4",children:e.jsx("p",{className:"text-sm text-amber-800",children:"‚ö†Ô∏è ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏ä‡∏¥‡∏ç‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏Å‡∏•‡∏∏‡πà‡∏°"})}),e.jsxs(Q,{value:O,onValueChange:P,children:[e.jsxs(X,{className:"grid w-full grid-cols-2",children:[e.jsxs(_,{value:"link",className:"flex items-center gap-2",children:[e.jsx(Y,{className:"w-4 h-4"}),"‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏ä‡∏¥‡∏ç"]}),e.jsxs(_,{value:"email",className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-4 h-4"}),"‡∏≠‡∏µ‡πÄ‡∏°‡∏•"]})]}),e.jsx(E,{value:"link",className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(v,{children:"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏ä‡∏¥‡∏ç"}),e.jsx("p",{className:"text-sm text-gray-600",children:"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏ä‡∏£‡πå‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏¥‡∏ç‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏°"}),m?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{value:m,readOnly:!0,className:"flex-1 font-mono text-xs"}),e.jsx(n,{onClick:A,variant:"outline",size:"icon",title:"‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å",children:R?e.jsx(Z,{className:"w-4 h-4 text-green-600"}):e.jsx(ee,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-xs text-blue-800",children:["üí° ",e.jsx("strong",{children:"‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:"})," ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ 7 ‡∏ß‡∏±‡∏ô ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á"]})}),e.jsxs(n,{onClick:C,variant:"outline",className:"w-full",disabled:t||!l,children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÉ‡∏´‡∏°‡πà"]})]}):e.jsx(n,{onClick:C,disabled:t||!l,className:"w-full",children:t?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-4 h-4 mr-2 animate-spin"}),"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á..."]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏ä‡∏¥‡∏ç"]})})]})}),e.jsx(E,{value:"email",className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"email",children:"‡∏≠‡∏µ‡πÄ‡∏°‡∏• *"}),e.jsx(I,{id:"email",type:"email",placeholder:"example@email.com",value:i,onChange:s=>h(s.target.value),disabled:!l})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"message",children:"‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°"}),e.jsx(K,{id:"message",placeholder:"‡πÄ‡∏ä‡∏¥‡∏ç‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤...",value:y,onChange:s=>u(s.target.value),rows:3,disabled:!l})]}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:e.jsx("p",{className:"text-xs text-gray-600",children:"üìß ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÄ‡∏ä‡∏¥‡∏ç‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏•‡∏∏‡πà‡∏°"})}),e.jsx(n,{onClick:U,disabled:t||!l,className:"w-full",children:t?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-4 h-4 mr-2 animate-spin"}),"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á..."]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏¥‡∏ç"]})})]})})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t",children:e.jsx(n,{variant:"outline",onClick:k,children:"‡∏õ‡∏¥‡∏î"})})]})})}export{ue as default};
