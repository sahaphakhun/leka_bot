const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CpPG0aiG.js","assets/index-5vmtZ3h8.css"])))=>i.map(i=>d[i]);
import{m as q,u as z,r as n,j as e,ae as G,af as H,ag as $,ah as J,ai as K,a8 as f,I,B as c,aV as Q,aP as T,ax as X,s as o,_ as E,q as b,t as _}from"./index-CpPG0aiG.js";import{T as Y,a as Z,b as M,c as S}from"./tabs-CQXb2XK-.js";import{U as N}from"./user-plus-B2oOt15I.js";import{L as ee}from"./link-2-B2i_zsXT.js";import{M as D}from"./mail-CEkYu_27.js";import{C as se}from"./copy-D1QBratl.js";function ce({onInvited:w}){const{groupId:x,canModify:h}=q(),{isInviteMemberOpen:F,closeInviteMember:O}=z(),[t,d]=n.useState(!1),[P,R]=n.useState("link"),[m,y]=n.useState(""),[A,u]=n.useState(!1),[l,g]=n.useState(""),[k,j]=n.useState(""),C=async()=>{if(!h()){o("‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏ä‡∏¥‡∏ç‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å");return}d(!0);try{const{createInviteLink:s}=await E(async()=>{const{createInviteLink:r}=await import("./index-CpPG0aiG.js").then(v=>v.aW);return{createInviteLink:r}},__vite__mapDeps([0,1])),a=await s(x),p=a.link||a.inviteUrl||a.url||a;y(p),b("‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏ä‡∏¥‡∏ç‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à"),console.log("‚úÖ Generated invite link")}catch(s){console.error("‚ùå Failed to generate invite link:",s),_("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏ä‡∏¥‡∏ç‡πÑ‡∏î‡πâ",s)}finally{d(!1)}},V=()=>{if(!m){o("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏ä‡∏¥‡∏ç‡∏Å‡πà‡∏≠‡∏ô");return}navigator.clipboard.writeText(m),u(!0),b("‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÅ‡∏•‡πâ‡∏ß"),setTimeout(()=>u(!1),2e3)},U=async()=>{if(!h()){o("‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏ä‡∏¥‡∏ç‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å");return}if(!(l!=null&&l.trim())){o("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏•");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)){o("‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");return}d(!0);try{const{sendInviteEmail:a,getLineMembers:p}=await E(async()=>{const{sendInviteEmail:r,getLineMembers:v}=await import("./index-CpPG0aiG.js").then(B=>B.aW);return{sendInviteEmail:r,getLineMembers:v}},__vite__mapDeps([0,1]));try{await p(x)}catch(r){console.warn("LINE sync failed (non-critical):",r)}await a(x,l,k),b("‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏¥‡∏ç‡∏ó‡∏≤‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à"),console.log("‚úÖ Sent invite email to:",l),g(""),j(""),w&&w()}catch(a){console.error("‚ùå Failed to send invite:",a),_("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏¥‡∏ç‡πÑ‡∏î‡πâ",a)}finally{d(!1)}},L=()=>{y(""),g(""),j(""),u(!1),O()},i=h(),W=s=>{s||L()};return e.jsx(G,{open:F,onOpenChange:W,children:e.jsxs(H,{className:"max-w-md",children:[e.jsxs($,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5"}),"‡πÄ‡∏ä‡∏¥‡∏ç‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏´‡∏°‡πà"]}),e.jsx(K,{children:"‡πÄ‡∏ä‡∏¥‡∏ç‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì"})]}),!i&&e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-4",children:e.jsx("p",{className:"text-sm text-amber-800",children:"‚ö†Ô∏è ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏ä‡∏¥‡∏ç‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏Å‡∏•‡∏∏‡πà‡∏°"})}),e.jsxs(Y,{value:P,onValueChange:R,children:[e.jsxs(Z,{className:"grid w-full grid-cols-2",children:[e.jsxs(M,{value:"link",className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-4 h-4"}),"‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏ä‡∏¥‡∏ç"]}),e.jsxs(M,{value:"email",className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-4 h-4"}),"‡∏≠‡∏µ‡πÄ‡∏°‡∏•"]})]}),e.jsx(S,{value:"link",className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(f,{children:"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏ä‡∏¥‡∏ç"}),e.jsx("p",{className:"text-sm text-gray-600",children:"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏ä‡∏£‡πå‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏¥‡∏ç‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏°"}),m?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{value:m,readOnly:!0,className:"flex-1 font-mono text-xs"}),e.jsx(c,{onClick:V,variant:"outline",size:"icon",title:"‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å",children:A?e.jsx(Q,{className:"w-4 h-4 text-green-600"}):e.jsx(se,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-xs text-blue-800",children:["üí° ",e.jsx("strong",{children:"‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:"})," ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ 7 ‡∏ß‡∏±‡∏ô ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á"]})}),e.jsxs(c,{onClick:C,variant:"outline",className:"w-full",disabled:t||!i,children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÉ‡∏´‡∏°‡πà"]})]}):e.jsx(c,{onClick:C,disabled:t||!i,className:"w-full",children:t?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"w-4 h-4 mr-2 animate-spin"}),"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á..."]}):e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏ä‡∏¥‡∏ç"]})})]})}),e.jsx(S,{value:"email",className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"email",children:"‡∏≠‡∏µ‡πÄ‡∏°‡∏• *"}),e.jsx(I,{id:"email",type:"email",placeholder:"example@email.com",value:l,onChange:s=>g(s.target.value),disabled:!i})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"message",children:"‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°"}),e.jsx(X,{id:"message",placeholder:"‡πÄ‡∏ä‡∏¥‡∏ç‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤...",value:k,onChange:s=>j(s.target.value),rows:3,disabled:!i})]}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:e.jsx("p",{className:"text-xs text-gray-600",children:"üìß ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÄ‡∏ä‡∏¥‡∏ç‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏•‡∏∏‡πà‡∏°"})}),e.jsx(c,{onClick:U,disabled:t||!i,className:"w-full",children:t?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"w-4 h-4 mr-2 animate-spin"}),"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á..."]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏¥‡∏ç"]})})]})})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t",children:e.jsx(c,{variant:"outline",onClick:L,children:"‡∏õ‡∏¥‡∏î"})})]})})}export{ce as default};
