const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Ce1N6tjt.js","assets/index-B8PbDF4y.css","assets/exportService-C-2ukMmN.js"])))=>i.map(i=>d[i]);
import{c as L,m as X,r as i,_ as q,j as e,ab as N,e as P,f as A,g as F,h as M,i as b,B as y,I as U,ac as J,N as he,F as me,E as W,ad as pe,P as E,K as O,ae as je,H as V,J as ge,af as fe,ag as ve,O as Y,ah as be,ai as Ne,aj as ye,ak as we,al as Re,am as $,an as Ce,D as Z,t as ke,k as H,v as D,a5 as w,ao as R,ap as C,aq as De,a6 as k,l as Ee,ar as G}from"./index-Ce1N6tjt.js";import{T as K}from"./trending-up-B6dx6Rsd.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=L("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=L("FileChartColumnIncreasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=L("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);function Pe({filters:a,onFilterChange:r}){const{groupId:t}=X(),[c,l]=i.useState([]),[o,n]=i.useState(a.startDate||""),[x,d]=i.useState(a.endDate||"");i.useEffect(()=>{j()},[t]);const j=async()=>{try{const{getGroupMembers:s}=await q(async()=>{const{getGroupMembers:v}=await import("./index-Ce1N6tjt.js").then(I=>I.aX);return{getGroupMembers:v}},__vite__mapDeps([0,1])),p=await s(t);l(p.members||p)}catch(s){console.error("Failed to load members:",s)}},g=s=>{const p={...a,dateRange:s};s!=="custom"&&(p.startDate=null,p.endDate=null,n(""),d("")),r(p)},h=s=>{r({...a,members:s==="all"?[]:[s]})},f=s=>{r({...a,categories:s==="all"?[]:[s]})},u=()=>{r({...a,startDate:o,endDate:x})};return e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{children:"ช่วงเวลา"}),e.jsxs(P,{value:a.dateRange,onValueChange:g,children:[e.jsx(A,{children:e.jsx(F,{placeholder:"เลือกช่วงเวลา"})}),e.jsxs(M,{children:[e.jsx(b,{value:"week",children:"7 วันล่าสุด"}),e.jsx(b,{value:"month",children:"30 วันล่าสุด"}),e.jsx(b,{value:"quarter",children:"3 เดือนล่าสุด"}),e.jsx(b,{value:"year",children:"1 ปีล่าสุด"}),e.jsx(b,{value:"custom",children:"กำหนดเอง"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{children:"สมาชิก"}),e.jsxs(P,{value:a.members&&a.members.length>0?a.members[0]:"all",onValueChange:h,children:[e.jsx(A,{children:e.jsx(F,{placeholder:"เลือกสมาชิก"})}),e.jsxs(M,{children:[e.jsx(b,{value:"all",children:"ทุกคน"}),c.map(s=>e.jsx(b,{value:s.lineUserId||s.id,children:s.displayName||s.name||s.lineUserId},s.lineUserId||s.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{children:"หมวดหมู่งาน"}),e.jsxs(P,{value:a.categories&&a.categories.length>0?a.categories[0]:"all",onValueChange:f,children:[e.jsx(A,{children:e.jsx(F,{placeholder:"เลือกหมวดหมู่"})}),e.jsxs(M,{children:[e.jsx(b,{value:"all",children:"ทุกหมวดหมู่"}),e.jsx(b,{value:"general",children:"ทั่วไป"}),e.jsx(b,{value:"meeting",children:"การประชุม"}),e.jsx(b,{value:"report",children:"รายงาน"}),e.jsx(b,{value:"project",children:"โครงการ"}),e.jsx(b,{value:"maintenance",children:"บำรุงรักษา"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{children:"คำสั่ง"}),e.jsx(y,{type:"button",variant:"outline",className:"w-full",onClick:()=>{n(""),d(""),r({...a,dateRange:"week",members:[],categories:[],startDate:null,endDate:null})},children:"รีเซ็ตตัวกรอง"})]})]}),a.dateRange==="custom"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{children:"วันที่เริ่มต้น"}),e.jsx(U,{type:"date",value:o||"",onChange:s=>n(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{children:"วันที่สิ้นสุด"}),e.jsx(U,{type:"date",value:x||"",onChange:s=>d(s.target.value)})]}),e.jsx("div",{className:"space-y-2 flex items-end",children:e.jsx(y,{type:"button",onClick:u,className:"w-full",children:"ใช้ช่วงวันที่กำหนดเอง"})})]})]})}function z({type:a,data:r}){const t=i.useMemo(()=>Array.isArray(r==null?void 0:r.labels)?r.labels:[],[r==null?void 0:r.labels]),c=i.useMemo(()=>Array.isArray(r==null?void 0:r.datasets)?r.datasets:[],[r==null?void 0:r.datasets]),l=i.useMemo(()=>{if(c.length===0)return 0;const o=c.flatMap(n=>(n==null?void 0:n.data)||[]);return Math.max(0,...o,0)},[c]);return a==="line"||a==="bar"?t.length===0||c.length===0?e.jsx("div",{className:"w-full h-64 flex items-center justify-center bg-gray-50 rounded text-sm text-muted-foreground",children:"ไม่มีข้อมูลเพียงพอในการสร้างกราฟ"}):e.jsx("div",{className:"w-full h-64 flex items-end justify-around gap-2 p-4 bg-gray-50 rounded",children:t.map((o,n)=>{var h,f,u,s,p,v;const x=((f=(h=c[0])==null?void 0:h.data)==null?void 0:f[n])||0,d=((s=(u=c[1])==null?void 0:u.data)==null?void 0:s[n])||0,j=l>0?x/l*100:0,g=l>0?d/l*100:0;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[e.jsxs("div",{className:"w-full flex gap-1 items-end h-48",children:[e.jsx("div",{className:"flex-1 bg-blue-500 rounded-t",style:{height:`${j}%`},title:`${((p=c[0])==null?void 0:p.label)||""}: ${x}`}),c[1]&&e.jsx("div",{className:"flex-1 bg-green-500 rounded-t",style:{height:`${g}%`},title:`${((v=c[1])==null?void 0:v.label)||""}: ${d}`})]}),e.jsx("span",{className:"text-xs text-gray-600",children:o})]},n)})}):e.jsx("div",{className:"w-full h-64 flex items-center justify-center bg-gray-50 rounded",children:e.jsx("p",{className:"text-gray-500",children:"Chart type not supported"})})}var B="Radio",[Ae,Q]=W(B),[Fe,Me]=Ae(B),ee=i.forwardRef((a,r)=>{const{__scopeRadio:t,name:c,checked:l=!1,required:o,disabled:n,value:x="on",onCheck:d,form:j,...g}=a,[h,f]=i.useState(null),u=O(r,v=>f(v)),s=i.useRef(!1),p=h?j||!!h.closest("form"):!0;return e.jsxs(Fe,{scope:t,checked:l,disabled:n,children:[e.jsx(E.button,{type:"button",role:"radio","aria-checked":l,"data-state":te(l),"data-disabled":n?"":void 0,disabled:n,value:x,...g,ref:u,onClick:V(a.onClick,v=>{l||d==null||d(),p&&(s.current=v.isPropagationStopped(),s.current||v.stopPropagation())})}),p&&e.jsx(re,{control:h,bubbles:!s.current,name:c,value:x,checked:l,required:o,disabled:n,form:j,style:{transform:"translateX(-100%)"}})]})});ee.displayName=B;var se="RadioIndicator",ae=i.forwardRef((a,r)=>{const{__scopeRadio:t,forceMount:c,...l}=a,o=Me(se,t);return e.jsx(ge,{present:c||o.checked,children:e.jsx(E.span,{"data-state":te(o.checked),"data-disabled":o.disabled?"":void 0,...l,ref:r})})});ae.displayName=se;var Ge="RadioBubbleInput",re=i.forwardRef(({__scopeRadio:a,control:r,checked:t,bubbles:c=!0,...l},o)=>{const n=i.useRef(null),x=O(n,o),d=fe(t),j=ve(r);return i.useEffect(()=>{const g=n.current;if(!g)return;const h=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(h,"checked").set;if(d!==t&&u){const s=new Event("click",{bubbles:c});u.call(g,t),g.dispatchEvent(s)}},[d,t,c]),e.jsx(E.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...l,tabIndex:-1,ref:x,style:{...l.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});re.displayName=Ge;function te(a){return a?"checked":"unchecked"}var Te=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_="RadioGroup",[Ve]=W(_,[J,Q]),le=J(),ne=Q(),[Le,qe]=Ve(_),ce=i.forwardRef((a,r)=>{const{__scopeRadioGroup:t,name:c,defaultValue:l,value:o,required:n=!1,disabled:x=!1,orientation:d,dir:j,loop:g=!0,onValueChange:h,...f}=a,u=le(t),s=he(j),[p,v]=me({prop:o,defaultProp:l??null,onChange:h,caller:_});return e.jsx(Le,{scope:t,name:c,required:n,disabled:x,value:p,onValueChange:v,children:e.jsx(pe,{asChild:!0,...u,orientation:d,dir:s,loop:g,children:e.jsx(E.div,{role:"radiogroup","aria-required":n,"aria-orientation":d,"data-disabled":x?"":void 0,dir:s,...f,ref:r})})})});ce.displayName=_;var oe="RadioGroupItem",ie=i.forwardRef((a,r)=>{const{__scopeRadioGroup:t,disabled:c,...l}=a,o=qe(oe,t),n=o.disabled||c,x=le(t),d=ne(t),j=i.useRef(null),g=O(r,j),h=o.value===l.value,f=i.useRef(!1);return i.useEffect(()=>{const u=p=>{Te.includes(p.key)&&(f.current=!0)},s=()=>f.current=!1;return document.addEventListener("keydown",u),document.addEventListener("keyup",s),()=>{document.removeEventListener("keydown",u),document.removeEventListener("keyup",s)}},[]),e.jsx(je,{asChild:!0,...x,focusable:!n,active:h,children:e.jsx(ee,{disabled:n,required:o.required,checked:h,...d,...l,name:o.name,ref:g,onCheck:()=>o.onValueChange(l.value),onKeyDown:V(u=>{u.key==="Enter"&&u.preventDefault()}),onFocus:V(l.onFocus,()=>{var u;f.current&&((u=j.current)==null||u.click())})})})});ie.displayName=oe;var Oe="RadioGroupIndicator",de=i.forwardRef((a,r)=>{const{__scopeRadioGroup:t,...c}=a,l=ne(t);return e.jsx(ae,{...l,...c,ref:r})});de.displayName=Oe;var Be=ce,Ue=ie,$e=de;function He({className:a,...r}){return e.jsx(Be,{"data-slot":"radio-group",className:Y("grid gap-3",a),...r})}function T({className:a,...r}){return e.jsx(Ue,{"data-slot":"radio-group-item",className:Y("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...r,children:e.jsx($e,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:e.jsx(_e,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function Ke({reportData:a,filters:r,onClose:t}){const[c,l]=i.useState("pdf"),[o,n]=i.useState(!1),x=async()=>{n(!0);try{const{exportReport:d}=await q(async()=>{const{exportReport:j}=await import("./exportService-C-2ukMmN.js");return{exportReport:j}},__vite__mapDeps([2,0,1]));await d(a,r,c),t()}catch(d){console.error("Failed to export report:",d),alert("ไม่สามารถส่งออกรายงานได้")}finally{n(!1)}};return e.jsx(be,{open:!0,onOpenChange:t,children:e.jsxs(Ne,{children:[e.jsxs(ye,{children:[e.jsx(we,{children:"ส่งออกรายงาน"}),e.jsx(Re,{children:"เลือกรูปแบบไฟล์ที่ต้องการส่งออก"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(He,{value:c,onValueChange:l,children:[e.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded hover:bg-gray-50 cursor-pointer",children:[e.jsx(T,{value:"pdf",id:"pdf"}),e.jsxs(N,{htmlFor:"pdf",className:"flex items-center gap-2 cursor-pointer flex-1",children:[e.jsx($,{className:"w-5 h-5 text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"PDF"}),e.jsx("p",{className:"text-sm text-gray-500",children:"เหมาะสำหรับการพิมพ์และแชร์"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded hover:bg-gray-50 cursor-pointer",children:[e.jsx(T,{value:"excel",id:"excel"}),e.jsxs(N,{htmlFor:"excel",className:"flex items-center gap-2 cursor-pointer flex-1",children:[e.jsx(Ce,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Excel"}),e.jsx("p",{className:"text-sm text-gray-500",children:"เหมาะสำหรับการวิเคราะห์ข้อมูล"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded hover:bg-gray-50 cursor-pointer",children:[e.jsx(T,{value:"csv",id:"csv"}),e.jsxs(N,{htmlFor:"csv",className:"flex items-center gap-2 cursor-pointer flex-1",children:[e.jsx($,{className:"w-5 h-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"CSV"}),e.jsx("p",{className:"text-sm text-gray-500",children:"ข้อมูลดิบสำหรับนำเข้าระบบอื่น"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(y,{variant:"outline",onClick:t,disabled:o,children:"ยกเลิก"}),e.jsx(y,{onClick:x,disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"กำลังส่งออก..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"ส่งออก"]})})]})]})]})})}function Je(){const{groupId:a}=X(),[r,t]=i.useState(!0),[c,l]=i.useState(null),[o,n]=i.useState(null),[x,d]=i.useState({dateRange:"month",startDate:null,endDate:null,members:[],categories:[]}),[j,g]=i.useState(!1);i.useEffect(()=>{h()},[a,x]);const h=async()=>{t(!0),l(null);try{const{getReports:m}=await q(async()=>{const{getReports:xe}=await import("./index-Ce1N6tjt.js").then(ue=>ue.aX);return{getReports:xe}},__vite__mapDeps([0,1])),S=await m(a,x);n(S),console.log("✅ Loaded reports data")}catch(m){console.error("❌ Failed to load reports:",m),l(m.message||"ไม่สามารถโหลดรายงานได้"),n(null),ke("ไม่สามารถโหลดรายงานได้",m)}finally{t(!1)}},f=m=>{d(m)},u=()=>{g(!0)};if(r)return e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"กำลังโหลดรายงาน..."})]})});if(c)return e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx(H,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"ไม่สามารถโหลดรายงานได้"}),e.jsx("p",{className:"text-gray-600 mb-6",children:c}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(y,{onClick:h,className:"w-full",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"ลองอีกครั้ง"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"หากปัญหายังคงอยู่ กรุณาตรวจสอบว่า Backend API ทำงานหรือไม่"})]})]})})});if(!o)return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"รายงานและสถิติ"}),e.jsx("p",{className:"text-muted-foreground",children:"วิเคราะห์ประสิทธิภาพการทำงาน"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(y,{variant:"outline",onClick:h,children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"รีเฟรช"]})})]}),e.jsx("div",{className:"flex items-center justify-center h-96 bg-white rounded-lg border-2 border-dashed border-gray-300",children:e.jsxs("div",{className:"text-center max-w-md px-6",children:[e.jsx(Ie,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"ไม่มีข้อมูลรายงาน"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"ระบบยังไม่มีข้อมูลเพียงพอสำหรับสร้างรายงาน กรุณาสร้างงานและทำงานให้เสร็จก่อน"}),e.jsxs(y,{onClick:h,children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"ลองโหลดอีกครั้ง"]})]})})]});const{summary:s,trends:p,byCategory:v,byMember:I}=o;return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"รายงานและสถิติ"}),e.jsx("p",{className:"text-muted-foreground",children:"วิเคราะห์ประสิทธิภาพการทำงาน"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(y,{variant:"outline",onClick:h,children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"รีเฟรช"]}),e.jsxs(y,{onClick:u,children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"ส่งออก"]})]})]}),e.jsx(Pe,{filters:x,onFilterChange:f}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(w,{children:[e.jsxs(R,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium",children:"งานทั้งหมด"}),e.jsx(De,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(k,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.totalTasks}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"เพิ่มขึ้น 12% จากเดือนที่แล้ว"})]})]}),e.jsxs(w,{children:[e.jsxs(R,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium",children:"งานเสร็จสิ้น"}),e.jsx(K,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(k,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.completedTasks}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.completionRate,"% ของงานทั้งหมด"]})]})]}),e.jsxs(w,{children:[e.jsxs(R,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium",children:"กำลังดำเนินการ"}),e.jsx(Ee,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(k,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.inProgressTasks}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["เฉลี่ย ",Number(s.avgCompletionTime??0).toFixed(1)," ชม./งาน"]})]})]}),e.jsxs(w,{children:[e.jsxs(R,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium",children:"เกินกำหนด"}),e.jsx(H,{className:"h-4 w-4 text-red-600"})]}),e.jsxs(k,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.overdueTasks}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"ต้องเร่งดำเนินการ"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsxs(R,{children:[e.jsx(C,{children:"แนวโน้มงาน (7 วันล่าสุด)"}),e.jsx(G,{children:"งานที่สร้างและเสร็จสิ้น"})]}),e.jsx(k,{children:e.jsx(z,{type:"line",data:{labels:p.labels,datasets:[{label:"งานที่สร้าง",data:p.tasksCreated,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)"},{label:"งานที่เสร็จ",data:p.tasksCompleted,borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)"}]}})})]}),e.jsxs(w,{children:[e.jsxs(R,{children:[e.jsx(C,{children:"งานตามหมวดหมู่"}),e.jsx(G,{children:"จำนวนงานแต่ละประเภท"})]}),e.jsx(k,{children:e.jsx(z,{type:"bar",data:{labels:v.map(m=>m.category),datasets:[{label:"ทั้งหมด",data:v.map(m=>m.count),backgroundColor:"rgba(59, 130, 246, 0.5)"},{label:"เสร็จสิ้น",data:v.map(m=>m.completed),backgroundColor:"rgba(34, 197, 94, 0.5)"}]}})})]})]}),e.jsxs(w,{children:[e.jsxs(R,{children:[e.jsx(C,{children:"ประสิทธิภาพของสมาชิก"}),e.jsx(G,{children:"อัตราการทำงานเสร็จของแต่ละคน"})]}),e.jsx(k,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4",children:"ชื่อ"}),e.jsx("th",{className:"text-right py-3 px-4",children:"งานที่ได้รับ"}),e.jsx("th",{className:"text-right py-3 px-4",children:"งานที่เสร็จ"}),e.jsx("th",{className:"text-right py-3 px-4",children:"อัตราความสำเร็จ"}),e.jsx("th",{className:"text-right py-3 px-4",children:"แนวโน้ม"})]})}),e.jsx("tbody",{children:I.map((m,S)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 font-medium",children:m.name}),e.jsx("td",{className:"py-3 px-4 text-right",children:m.assigned}),e.jsx("td",{className:"py-3 px-4 text-right text-green-600 font-medium",children:m.completed}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsxs("span",{className:`font-medium ${m.rate>=70?"text-green-600":m.rate>=50?"text-yellow-600":"text-red-600"}`,children:[m.rate,"%"]})}),e.jsx("td",{className:"py-3 px-4 text-right",children:m.rate>=70?e.jsx(K,{className:"w-4 h-4 text-green-600 inline"}):e.jsx(Se,{className:"w-4 h-4 text-red-600 inline"})})]},S))})]})})})]}),j&&e.jsx(Ke,{reportData:o,filters:x,onClose:()=>g(!1)})]})}export{Je as default};
