# р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ър╕гр╕░р╕Ър╕Ър╕Бр╕▓р╕гр╣Бр╕Щр╕Ър╣Др╕Яр╕ер╣Мр╣Ар╕бр╕╖р╣Ир╕нр╕кр╕гр╣Йр╕▓р╕Зр╕Зр╕▓р╕Щр╣Гр╕лр╕бр╣И

## р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╣Др╕Фр╣Йр╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Вр╣Йр╕▓р╣Др╕Ы

### 1. API Changes
- р╣Ар╕Юр╕┤р╣Ир╕бр╕Яр╕┤р╕ер╕Фр╣М `fileIds` р╣Гр╕Щ API `POST /api/groups/:groupId/tasks`
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕гр╕▒р╕Ъ array р╕Вр╕нр╕З file IDs р╕Чр╕╡р╣Ир╕Ир╕░р╣Бр╕Щр╕Ър╕Бр╕▒р╕Ър╕Зр╕▓р╕Щр╕Хр╕▒р╣Йр╕Зр╣Бр╕Хр╣Ир╕Хр╕нр╕Щр╕кр╕гр╣Йр╕▓р╕З

### 2. TaskService Changes
- р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х `createTask()` method р╣Ар╕Юр╕╖р╣Ир╕нр╕гр╕нр╕Зр╕гр╕▒р╕Ъ `fileIds` parameter
- р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╕Ьр╕╣р╕Бр╣Др╕Яр╕ер╣Мр╣Ар╕Вр╣Йр╕▓р╕Бр╕▒р╕Ър╕Зр╕▓р╕Щр╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Бр╕кр╕гр╣Йр╕▓р╕Зр╕Зр╕▓р╕Щр╣Ар╕кр╕гр╣Зр╕Ир╣Бр╕ер╣Йр╕з
- р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕кр╕Цр╕▓р╕Щр╕░р╣Др╕Яр╕ер╣Мр╣Ар╕Ыр╣Зр╕Щ `in_progress` р╣Бр╕ер╕░р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╣Вр╕вр╕Зр╕Бр╕▒р╕Ър╕Бр╕ер╕╕р╣Ир╕б

### 3. UI Changes
- р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х `TaskCardData` interface р╣Ар╕Юр╕╖р╣Ир╕нр╕гр╕нр╕Зр╕гр╕▒р╕Ъ `attachedFiles`
- р╣Бр╕Бр╣Йр╣Др╕В `createNewTaskCard()` р╣Гр╕лр╣Йр╣Бр╕кр╕Фр╕Зр╕Ир╕│р╕Щр╕зр╕Щр╣Др╕Яр╕ер╣Мр╣Бр╕Щр╕Ър╣Бр╕ер╕░р╕гр╕▓р╕вр╕Кр╕╖р╣Ир╕нр╣Др╕Яр╕ер╣М
- р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Бр╕▓р╕гр╣Мр╕Фр╕Зр╕▓р╕Щр╕нр╕╖р╣Ир╕Щр╣Ж (Updated, Completed) р╣Гр╕лр╣Йр╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Др╕Яр╕ер╣Мр╣Бр╕Щр╕Ъ
- р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Бр╕▓р╕гр╣Вр╕лр╕ер╕Фр╕Зр╕▓р╕Щр╣Гр╕лр╣Йр╕гр╕зр╕б `attachedFiles` relation

## р╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ

### 1. р╕Чр╕Фр╕кр╕нр╕Ър╕Ьр╣Ир╕▓р╕Щ API
```bash
# р╕кр╕гр╣Йр╕▓р╕Зр╕Зр╕▓р╕Щр╣Гр╕лр╕бр╣Ир╕Юр╕гр╣Йр╕нр╕бр╣Бр╕Щр╕Ър╣Др╕Яр╕ер╣М
curl -X POST http://localhost:3000/api/groups/C5d6c442ec0b3287f71787fdd9437e520/tasks \
  -H "Content-Type: application/json" \
  -d '{
    "title": "р╕Зр╕▓р╕Щр╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Бр╕Щр╕Ър╣Др╕Яр╕ер╣М",
    "description": "р╕Чр╕Фр╕кр╕нр╕Ър╕гр╕░р╕Ър╕Ър╕Бр╕▓р╕гр╣Бр╕Щр╕Ър╣Др╕Яр╕ер╣Мр╕Хр╕нр╕Щр╕кр╕гр╣Йр╕▓р╕Зр╕Зр╕▓р╕Щ",
    "assigneeIds": ["Uc92411a226e4d4c9866adef05068bdf1"],
    "createdBy": "Uc92411a226e4d4c9866adef05068bdf1",
    "dueTime": "2025-01-22T17:00:00.000Z",
    "priority": "medium",
    "requireAttachment": false,
    "fileIds": ["file-id-1", "file-id-2"]
  }'
```

### 2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М
1. **р╣Гр╕Щр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е**: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Др╕Яр╕ер╣Мр╕Цр╕╣р╕Бр╕Ьр╕╣р╕Бр╣Ар╕Вр╣Йр╕▓р╕Бр╕▒р╕Ър╕Зр╕▓р╕Щр╣Гр╕Щ table `task_files`
2. **р╕Бр╕▓р╕гр╣Мр╕Ф LINE**: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕Бр╕▓р╕гр╣Мр╕Фр╕Зр╕▓р╕Щр╣Гр╕лр╕бр╣Ир╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Др╕Яр╕ер╣Мр╣Бр╕Щр╕Ъ
3. **Dashboard**: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕лр╕Щр╣Йр╕▓ dashboard р╣Бр╕кр╕Фр╕Зр╣Др╕Яр╕ер╣Мр╣Бр╕Щр╕Ър╕Вр╕нр╕Зр╕Зр╕▓р╕Щ

### 3. р╕Чр╕Фр╕кр╕нр╕Ъ Edge Cases
- р╕кр╕гр╣Йр╕▓р╕Зр╕Зр╕▓р╕Щр╣Вр╕Фр╕вр╣Др╕бр╣Ир╣Бр╕Щр╕Ър╣Др╕Яр╕ер╣М (fileIds = [])
- р╕кр╕гр╣Йр╕▓р╕Зр╕Зр╕▓р╕Щр╣Бр╕Щр╕Ър╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕бр╕╡р╕нр╕вр╕╣р╣Ир╕Ир╕гр╕┤р╕З
- р╕кр╕гр╣Йр╕▓р╕Зр╕Зр╕▓р╕Щр╣Бр╕Щр╕Ър╣Др╕Яр╕ер╣Мр╕лр╕ер╕▓р╕вр╣Др╕Яр╕ер╣М (>3 р╣Др╕Яр╕ер╣М)

## р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Чр╕╡р╣Ир╕Др╕▓р╕Фр╕лр╕зр╕▒р╕З

### р╕Бр╕▓р╕гр╣Мр╕Фр╕Зр╕▓р╕Щр╣Гр╕лр╕бр╣Ир╕Ир╕░р╣Бр╕кр╕Фр╕З:
```
ЁЯЖХ р╕Кр╕╖р╣Ир╕нр╕Зр╕▓р╕Щ
ЁЯУЕ р╕Бр╕│р╕лр╕Щр╕Фр╕кр╣Ир╕З: DD/MM/YYYY HH:mm
ЁЯСе р╕Ьр╕╣р╣Йр╕гр╕▒р╕Ър╕Ьр╕┤р╕Фр╕Кр╕нр╕Ъ: р╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й
ЁЯСд р╕Ьр╕╣р╣Йр╕кр╕гр╣Йр╕▓р╕З: р╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╕кр╕гр╣Йр╕▓р╕З
ЁЯОп р╕Др╕зр╕▓р╕бр╕кр╕│р╕Др╕▒р╕Н: р╕Ыр╕▓р╕Щр╕Бр╕ер╕▓р╕З
ЁЯУО р╣Др╕Яр╕ер╣Мр╣Бр╕Щр╕Ъ: 2 р╣Др╕Яр╕ер╣М
  тАв р╕Кр╕╖р╣Ир╕нр╣Др╕Яр╕ер╣М1.pdf
  тАв р╕Кр╕╖р╣Ир╕нр╣Др╕Яр╕ер╣М2.docx
ЁЯУЭ р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Зр╕▓р╕Щ...
```

### р╣Гр╕Щр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е:
- р╕Хр╕▓р╕гр╕▓р╕З `tasks` р╕Ир╕░р╕бр╕╡р╕Зр╕▓р╕Щр╣Гр╕лр╕бр╣И
- р╕Хр╕▓р╕гр╕▓р╕З `task_files` р╕Ир╕░р╕бр╕╡р╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╣Вр╕вр╕Зр╕гр╕░р╕лр╕зр╣Ир╕▓р╕Зр╕Зр╕▓р╕Щр╣Бр╕ер╕░р╣Др╕Яр╕ер╣М
- р╕Хр╕▓р╕гр╕▓р╕З `files` р╕Ир╕░р╕бр╕╡р╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Ар╕Фр╕Х `groupId` р╣Бр╕ер╕░ `folderStatus`

## р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕
- р╕гр╕░р╕Ър╕Ър╕Ир╕░р╣Др╕бр╣Ир╕ер╣Йр╕бр╣Ар╕лр╕ер╕зр╕Цр╕╢р╕Зр╣Бр╕бр╣Йр╕Бр╕▓р╕гр╕Ьр╕╣р╕Бр╣Др╕Яр╕ер╣Мр╕Ир╕░р╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓ (graceful degradation)
- р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Бр╕Щр╕Ър╕Ир╕░р╕Цр╕╣р╕Бр╕вр╣Йр╕▓р╕вр╣Др╕Ыр╕кр╕Цр╕▓р╕Щр╕░ `in_progress` 
- р╣Ар╕бр╕╖р╣Ир╕нр╕Зр╕▓р╕Щр╣Ар╕кр╕гр╣Зр╕Ир╣Бр╕ер╣Йр╕з р╣Др╕Яр╕ер╣Мр╕Ир╕░р╕Цр╕╣р╕Бр╕вр╣Йр╕▓р╕вр╣Др╕Ыр╕кр╕Цр╕▓р╕Щр╕░ `completed`
